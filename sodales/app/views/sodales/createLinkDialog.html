<div class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" ng-controller="sodalesPiMgtCtrl">
        <div class="modal-content">
            <div class="modal-header" ng-show="title">
                <button type="button" class="close" ng-click="$hide()">&times;</button>
                <h4 class="modal-title" ng-bind="title"></h4>
            </div>
            <div class="modal-body">
                <form action="createARN" method="post" name="editForm">
                    <div>
                        <h3>Connection between resources </h3>({{source}}, {{dest}})
                        <div ng-hide="createdLink">
                            Create link <a href="" class="btn btn-sm btn-primary" ng-click="createLink()">Add</a> {{createdLink}}
                        </div>
                        <div ng-show="createdLink">
                            Link: {{createdLink}}
                            <br/>
                            <div ng-show="!!physicalPorts1.length">
                                Select source port ({{source}}): {{physicalPorts1}}

                                <button type="button" class="btn btn-default" ng-model="piPort1" data-html="1" bs-options="port for port in physicalPorts1" bs-select>
                                    Action <span class="caret"></span>
                                </button>

                                <a class="btn btn-sm btn-primary" ng-click="createPort(source)">Create Port</a>
                                <a ng-show="piPort1" class="btn btn-sm btn-primary" ng-click="attachPortsToLink(createdLink, 'source', piPort1)">Attach source port</a> {{dstPortAttahed}}
                            </div>
                            <div ng-show=" !!!physicalPorts1.length">
                                The resource {{source}} has no ports!
                            </div>
                            <br/>
                            <div ng-show="!!physicalPorts2.length">Select target port ({{dest}}):
                                <button type="button" class="btn btn-default" ng-model="piPort2" data-html="1" bs-options="port for port in physicalPorts2" bs-select>
                                    Action <span class="caret"></span>
                                </button>

                                <a class="btn btn-sm btn-primary" ng-click="createPort(dest)">Create Port</a>
                                <a ng-show="piPort2" class="btn btn-sm btn-primary" ng-click="attachPortsToLink(createdLink, 'dest', piPort2)">Attach destination port</a> {{dstPortAttahed}}
                            </div>
                            <div ng-show=" !!!physicalPorts2.length">
                                The resource {{dest}} has no ports!
                            </div>
                        </div>


                    </div>
                </form>
                <!-- /.box-body -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-primary" data-dismiss="modal" ng-click="addResource(arn)">Add</button>
                </div>
            </div>
        </div>
    </div>
</div>
